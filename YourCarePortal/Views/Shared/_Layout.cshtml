 <!-- YCP Version:1.2.1-->
<!-- Release 06-06-24 YCP140 -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>@ViewBag.Title</title>
    <link href="~/Content/css/styles.css" rel="stylesheet" />
    <link rel="icon" type="image/x-icon" href="~/Images/TurnPointtwirl.png" />

    <script type="text/javascript">
        (function () {
            if (window.history && window.history.pushState) {
                window.history.pushState('forward', null, '');
                window.onpopstate = function () {
                    window.location.href = '/';
                };
            }
        })();
    </script>

    <style>
        .sidenav {
            background-color: #F5F5F5;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100vh;
        }

        .nav-footer {
            width: 100%;
        }

        .font-weight-bold {
            font-weight: 700 !important;
        }

        /* Custom CSS for waiting cursor */
        .waiting-cursor {
            cursor: wait !important;
        }

        .MyName {
            padding-right: 10px !important;
        }


        .icon-composite {
            position: relative;
            color: #D3D3D3; /* This is the hex code for light grey */
        }

            .icon-composite .fa-file {
                font-size: 2em; /* Adjust size as needed */
            }

            .icon-composite .fa-pencil {
                position: absolute;
                top: 10%; /* Adjust position as needed */
                right: 10%; /* Adjust position as needed */
                font-size: 1em; /* Adjust size as needed */
            }


        @@media screen and (orientation: landscape) and (max-width: 599px) {
            .topnav, .sidenav {
                display: none !important;
            }

            #layoutSidenav_content {
                height: 100vh; /* This ensures the content takes up the full height of the viewport */
                margin: 0; /* Reset any margins */
            }
        }

        }
        }</style>

    @*   <script data-search-pseudo-elements defer src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/js/all.min.js" crossorigin="anonymous"></script> *@

    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.29.0/feather.min.js" crossorigin="anonymous"></script>

    <script src="https://kit.fontawesome.com/8788b4fc35.js" crossorigin="anonymous"></script>

</head>

<nav class="topnav navbar navbar-expand shadow justify-content-between justify-content-sm-start navbar-light bg-white" id="sidenavAccordion">
    <!-- Sidenav Toggle Button-->
    <button class="btn btn-icon btn-transparent-dark order-1 order-lg-0 me-2 ms-lg-2 me-lg-0" id="sidebarToggle"><i data-feather="menu"></i></button>
    <!-- Navbar Brand-->
    <!-- * * Tip * * You can use text or an image for your navbar brand.-->
    <!-- * * * * * * When using an image, we recommend the SVG format.-->
    <!-- * * * * * * Dimensions: Maximum height: 32px, maximum width: 240px-->
    <!-- <a class="navbar-brand pe-3 ps-4 ps-lg-2" href="index.html">Your Care Portal</a> -->
    <a class="navbar-logo" href="#!">
        <img src="@Url.Content(@ViewBag.WhiteLabel)" alt="Your Care Portal" style="height:auto; width:auto; max-height:32px; max-width:240px;">
    </a>
    <!-- Navbar Search Input-->
    <!-- * * Note: * * Visible only on and above the lg breakpoint-->
    <!-- <form class="form-inline me-auto d-none d-lg-block me-3">
        <div class="input-group input-group-joined input-group-solid">
            <input class="form-control pe-0" type="search" placeholder="Search" aria-label="Search" />
            <div class="input-group-text"><i data-feather="search"></i></div>
        </div>
    </form> -->
    <!-- Navbar Items-->
    <ul class="navbar-nav align-items-center ms-auto">

        <!-- Navbar Search Dropdown-->
        <!-- * * Note: * * Visible only below the lg breakpoint-->
        <!--<li class="nav-item dropdown no-caret me-3 d-lg-none"> -->
        <!--   <a class="btn btn-icon btn-transparent-dark dropdown-toggle" id="searchDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i data-feather="search"></i></a> -->
        <!-- Dropdown - Search-->
        <!--    <div class="dropdown-menu dropdown-menu-end p-3 shadow animated--fade-in-up" aria-labelledby="searchDropdown">
         <!--        <form class="form-inline me-auto w-100"> -->
        <!--           <div class="input-group input-group-joined input-group-solid"> -->
        <!--              <input class="form-control pe-0" type="text" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2" /> -->
        <!--             <div class="input-group-text"><i data-feather="search"></i></div> -->
        <!--        </div>  -->
        <!--   </form>  -->
        <!--  </div>  -->

        <li>
            <div class="Space">&nbsp;&nbsp;&nbsp;</div>
        </li>

        <li>

            <div class="MyName">
                @CapitalizeFirstLetter(@Context.Session.GetString("portalUserFirstName") ?? string.Empty)
                @CapitalizeFirstLetter(@Context.Session.GetString("portalUserSurname") ?? string.Empty)
            </div>

        </li>

        <!-- User Dropdown-->
        <li class="nav-item dropdown no-caret dropdown-user me-3 me-lg-4">
            <a class="btn btn-icon btn-transparent-dark dropdown-toggle" id="navbarDropdownUserImage" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img class="img-fluid" src="@Url.Content("~/Images/user-login-avatar.png")" ) /></a>
            <div class="dropdown-menu dropdown-menu-end border-0 shadow animated--fade-in-up" aria-labelledby="navbarDropdownUserImage">
                <h6 class="dropdown-header d-flex align-items-center">
                </h6>
                <img class="dropdown-user-img" style="padding: 8px" ; src="@Url.Content("~/Images/user-login-avatar.png")" />

                <div class="dropdown-user-details" style="padding: 8px">
                    <div class="dropdown-user-details-name">
                        @CapitalizeFirstLetter(@Context.Session.GetString("portalUserFirstName") ?? string.Empty)
                        @CapitalizeFirstLetter(@Context.Session.GetString("portalUserSurname") ?? string.Empty)
                    </div>
                    <div class="dropdown-user-details-email">@Context.Session.GetString("portalUserEmail")</div>
                </div>


                <div class="dropdown-divider"></div>
                <a class="dropdown-item" asp-area="" asp-controller="Settings" asp-action="Settings">
                    <div class="dropdown-item-icon"><i data-feather="settings"></i></div>
                    Settings
                </a>
                <a class="dropdown-item" asp-area="" asp-controller="Home" asp-action="Logout">
                    <div class="dropdown-item-icon"><i data-feather="log-out"></i></div>
                    Logout
                </a>
            </div>
        </li>
    </ul>
</nav>

@{
    // convert to boolean.

    bool showSupportplan = ViewBag.SETTING_SupportplanEnabled == "yes";

    bool showStatements = ViewBag.SETTING_StatementsEnabled == "yes";

    bool showBudget = ViewBag.SETTING_BudgetEnabled == "yes";



    // ViewBag.SETTING_FormsEnabled = Authentication1.SETTING_FormsEnabled;
    // ViewBag.SETTING_NDIS_StatementsEnabled = Authentication1.SETTING_NDIS_StatementsEnabled;
    // ViewBag.SETTING_NDIS_Quotes_Enabled = Authentication1.SETTING_NDIS_Quotes_Enabled;



    bool showNDISQuotes = ViewBag.SETTING_NDIS_Quotes_Enabled == "yes";

    bool showNDISStatement = ViewBag.SETTING_NDIS_StatementsEnabled == "yes";

    bool showCustomForms = ViewBag.SETTING_FormsEnabled == "yes";

}



@{
    // Identify current controller and action
    var controller = ViewContext.RouteData.Values["controller"].ToString();
    var action = ViewContext.RouteData.Values["action"].ToString();
}

<body class="nav-fixed">
    <div id="layoutSidenav">
        <div id="layoutSidenav_nav">
            <nav class="sidenav shadow-right sidenav-light">
                <div class="sidenav-menu d-flex flex-column justify-content-between">
                    <div>

                        <style>
                            .nav-link-icon i {
                                font-size: 150%; /* Increase the font size by 20% */
                                /*  color: black; */
                            }
                        </style>

                        <div class="nav accordion" id="accordionSidenav">

                            <!-- Highlight Support Plan link when it's active -->
                            <a class="nav-link text-dark @(controller == "Appointments" && action == "Appointments" ? "font-weight-bold" : "")" asp-area="" asp-controller="Appointments" asp-action="Appointments" onclick="startProcessing();">
                                <div class="nav-link-icon"> <i class="fa-light fa-clock"></i> </div>
                                Schedule
                            </a>

                            @if (showSupportplan)
                            {
                                <!-- Highlight Support Plan link when it's active -->
                                <a class="nav-link text-dark @(controller == "SupportPlan" && action == "SupportPlan" ? "font-weight-bold" : "")" asp-area="" asp-controller="SupportPlan" asp-action="SupportPlan">
                                    <div class="nav-link-icon"><i class="fa-light  fa-folder-user"></i></div>
                                    Support Plan
                                </a>
                            }

                            @if (showStatements)
                            {
                                <!-- Highlight Statements link when it's active -->
                                <a class="nav-link text-dark @(controller == "Statements" && action == "Statements" ? "font-weight-bold" : "")" asp-area="" asp-controller="Statements" asp-action="Statements">
                                    <div class="nav-link-icon"><i class="fa-light fa-file-magnifying-glass"></i></div>
                                    HCP Statements
                                </a>
                            }

                            @if (showBudget)
                            {
                                <!-- Highlight Budget link when it's active -->
                                <a class="nav-link text-dark @(controller == "Budget" && action == "Budget" ? "font-weight-bold" : "")" asp-area="" asp-controller="Budget" asp-action="Budget">
                                    <div class="nav-link-icon"><i class="fa-light fa-file-lines"></i></div>
                                    HCP Budget
                                </a>
                            }

                            <!-- Highlight Client Details link when it's active -->
                            <a class="nav-link text-dark @(controller == "ClientDetails" && action == "ClientDetails" ? "font-weight-bold" : "")" asp-area="" asp-controller="ClientDetails" asp-action="ClientDetails">
                                <div class="nav-link-icon"><i class="fa-light fa-user"></i></div>
                                Client Details
                            </a>

                            @if (showCustomForms)
                            {
                                <!-- Highlight Custom Forms link when it's active -->
                                <a class="nav-link text-dark @(controller == "CustomForms" && action == "CustomForms" ? "font-weight-bold" : "")" asp-area="" asp-controller="CustomForms" asp-action="CustomForms">
                                    <div class="nav-link-icon">
                                        <i class="fa-sharp fa-light fa-file-pen"></i>
                                    </div>
                                    Forms
                                </a>
                            }

                            @if (showNDISQuotes)
                            {
                                <a class="nav-link text-dark @(controller == "NDISQuotes" && action == "NDISQuotes" ? "font-weight-bold" : "")" asp-area="" asp-controller="NDISQuotes" asp-action="NDISQuotes">
                                    <div class="nav-link-icon"><i class="fa-light fa-file-chart-pie"></i></div>
                                    NDIS Quotes
                                </a>
                            }

                            @if (showNDISStatement)
                            {
                                <a class="nav-link text-dark @(controller == "NDISStatement" && action == "NDISStatement" ? "font-weight-bold" : "")" asp-area="" asp-controller="NDISStatement" asp-action="NDISStatement">
                                    <div class="nav-link-icon"><i class="fa-light fa-file-magnifying-glass"></i></div>
                                    NDIS Statement
                                </a>
                            }

                            <!-- ... Other links ... -->
                            <!-- Highlight Settings link when it's active -->
                            <a class="nav-link text-dark @(controller == "Settings" && action == "Settings" ? "font-weight-bold" : "")" asp-area="" asp-controller="Settings" asp-action="Settings">
                                <div class="nav-link-icon"><i class="fa-sharp fa-light fa-gear"></i></div>
                                Settings
                            </a>
                        </div>
                    </div>

                    <div class="nav-footer">
                        <div class="nav accordion" id="accordionSidenavFooter">
                            <a class="nav-link text-dark" href="https://turnpointcare.com.au/privacy-policy/" target="_blank">Privacy Policy</a>

                            @*  <a class="nav-link text-dark" href="" target="_blank">Ver. 17-11-23 929 - YCP-RP - ResetPasswod - finish up</a> *@

                            @* <div id="zoom-level"Zoom Level: 100%</div>

                            <script src="zoom.js"></script> *@

                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Logout">
                                <div class="nav-link-icon"><i data-feather="log-out"></i></div>
                                Logout @CapitalizeFirstLetter(@Context.Session.GetString("portalUserFirstName") ?? string.Empty)
                            </a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>

        <div id="layoutSidenav_content">
            @RenderBody()
        </div>
    </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="~/Content/js/scripts.js"></script>
    @RenderSection("scripts", required: false)

    @functions {
        public string CapitalizeFirstLetter(string input)
        {
            if (string.IsNullOrEmpty(input))
                return string.Empty;

            return char.ToUpper(input[0]) + input.Substring(1).ToLower();
        }
    }

    <script>
        function startProcessing() {
            document.body.classList.add('waiting-cursor');
            console.log("wait clicked"); // Add this

            // Your processing logic here

            // When done, call stopProcessing
            //stopProcessing();
        }

        function stopProcessing() {
            document.body.classList.remove('waiting-cursor');
        }
    </script>

    <script>

        window.addEventListener('resize', adjustBodyPosition);

        function adjustBodyPosition() {

            console.log('here');

            // Check if in landscape mode and the screen width is less than 600px
            if (window.innerWidth < 600 && window.innerHeight < window.innerWidth) {
                document.body.style.marginTop = '0'; // Move the body to the top
            } else {
                document.body.style.marginTop = ''; // Reset the margin to its original state
            }
        }

        // Call the function initially to set the styles correctly
        adjustBodyPosition();

    </script>

    <script>

        function updateZoomLevel() {
            var zoomLevel = (window.innerWidth / screen.width) * 100;
            document.getElementById('zoom-level').innerText = `Zoom Level: ${zoomLevel.toFixed(2)}%`;
        }

        window.onload = updateZoomLevel;
        window.onresize = updateZoomLevel;

    </script>

</body>


</html>
